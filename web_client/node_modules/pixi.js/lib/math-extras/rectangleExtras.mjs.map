{"version":3,"file":"rectangleExtras.mjs","sources":["../../src/math-extras/rectangleExtras.ts"],"sourcesContent":["import { Rectangle } from '../maths/shapes/Rectangle';\n\n/** @internal */\nexport const rectangleExtraMixins: Partial<Rectangle> = {\n    containsRect(other: Rectangle): boolean\n    {\n        if (other.width <= 0 || other.height <= 0)\n        {\n            return other.x > this.x && other.y > this.y && other.right < this.right && other.bottom < this.bottom;\n        }\n\n        return other.x >= this.x && other.y >= this.y && other.right <= this.right && other.bottom <= this.bottom;\n    },\n    equals(other: Rectangle): boolean\n    {\n        if (other === this)\n        {\n            return true;\n        }\n\n        return (\n            other\n            && this.x === other.x\n            && this.y === other.y\n            && this.width === other.width\n            && this.height === other.height\n        );\n    },\n    intersection<T extends Rectangle>(other: Rectangle, outRect?: T): T\n    {\n        if (!outRect)\n        {\n            outRect = new Rectangle() as T;\n        }\n\n        const x0 = this.x < other.x ? other.x : this.x;\n        const x1 = this.right > other.right ? other.right : this.right;\n\n        if (x1 <= x0)\n        {\n            outRect.x = outRect.y = outRect.width = outRect.height = 0;\n\n            return outRect;\n        }\n\n        const y0 = this.y < other.y ? other.y : this.y;\n        const y1 = this.bottom > other.bottom ? other.bottom : this.bottom;\n\n        if (y1 <= y0)\n        {\n            outRect.x = outRect.y = outRect.width = outRect.height = 0;\n\n            return outRect;\n        }\n\n        outRect.x = x0;\n        outRect.y = y0;\n        outRect.width = x1 - x0;\n        outRect.height = y1 - y0;\n\n        return outRect;\n    },\n    union<T extends Rectangle>(other: Rectangle, outRect?: T): T\n    {\n        if (!outRect)\n        {\n            outRect = new Rectangle() as T;\n        }\n\n        const x1 = Math.min(this.x, other.x);\n        const x2 = Math.max(this.x + this.width, other.x + other.width);\n        const y1 = Math.min(this.y, other.y);\n        const y2 = Math.max(this.y + this.height, other.y + other.height);\n\n        outRect.x = x1;\n        outRect.y = y1;\n        outRect.width = x2 - x1;\n        outRect.height = y2 - y1;\n\n        return outRect;\n    },\n};\n"],"names":[],"mappings":"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"}
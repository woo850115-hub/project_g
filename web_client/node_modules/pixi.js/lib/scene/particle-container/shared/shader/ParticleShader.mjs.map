{"version":3,"file":"ParticleShader.mjs","sources":["../../../../../src/scene/particle-container/shared/shader/ParticleShader.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { GlProgram } from '../../../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { Shader } from '../../../../rendering/renderers/shared/shader/Shader';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { TextureStyle } from '../../../../rendering/renderers/shared/texture/TextureStyle';\nimport fragment from './particles.frag';\nimport vertex from './particles.vert';\nimport wgsl from './particles.wgsl';\n\n/** @internal */\nexport class ParticleShader extends Shader\n{\n    constructor()\n    {\n        const glProgram = GlProgram.from({\n            vertex,\n            fragment\n        });\n\n        const gpuProgram = GpuProgram.from({\n            fragment: {\n                source: wgsl,\n                entryPoint: 'mainFragment'\n            },\n            vertex: {\n                source: wgsl,\n                entryPoint: 'mainVertex'\n            }\n        });\n\n        super({\n            glProgram,\n            gpuProgram,\n            resources: {\n                // this will be replaced with the texture from the particle container\n                uTexture: Texture.WHITE.source,\n                // this will be replaced with the texture style from the particle container\n                uSampler: new TextureStyle({}),\n                // this will be replaced with the local uniforms from the particle container\n                uniforms: {\n                    uTranslationMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n                    uColor: { value: new Color(0xFFFFFF), type: 'vec4<f32>' },\n                    uRound: { value: 1, type: 'f32' },\n                    uResolution: { value: [0, 0], type: 'vec2<f32>' },\n                }\n            }\n        });\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAYO,MAAM,uBAAuB,MAAA,CACpC;AAAA,EACI,WAAA,GACA;AACI,IAAA,MAAM,SAAA,GAAY,UAAU,IAAA,CAAK;AAAA,MAC7B,MAAA;AAAA,MACA;AAAA,KACH,CAAA;AAED,IAAA,MAAM,UAAA,GAAa,WAAW,IAAA,CAAK;AAAA,MAC/B,QAAA,EAAU;AAAA,QACN,MAAA,EAAQ,IAAA;AAAA,QACR,UAAA,EAAY;AAAA,OAChB;AAAA,MACA,MAAA,EAAQ;AAAA,QACJ,MAAA,EAAQ,IAAA;AAAA,QACR,UAAA,EAAY;AAAA;AAChB,KACH,CAAA;AAED,IAAA,KAAA,CAAM;AAAA,MACF,SAAA;AAAA,MACA,UAAA;AAAA,MACA,SAAA,EAAW;AAAA;AAAA,QAEP,QAAA,EAAU,QAAQ,KAAA,CAAM,MAAA;AAAA;AAAA,QAExB,QAAA,EAAU,IAAI,YAAA,CAAa,EAAE,CAAA;AAAA;AAAA,QAE7B,QAAA,EAAU;AAAA,UACN,oBAAoB,EAAE,KAAA,EAAO,IAAI,MAAA,EAAO,EAAG,MAAM,aAAA,EAAc;AAAA,UAC/D,MAAA,EAAQ,EAAE,KAAA,EAAO,IAAI,MAAM,QAAQ,CAAA,EAAG,MAAM,WAAA,EAAY;AAAA,UACxD,MAAA,EAAQ,EAAE,KAAA,EAAO,CAAA,EAAG,MAAM,KAAA,EAAM;AAAA,UAChC,WAAA,EAAa,EAAE,KAAA,EAAO,CAAC,GAAG,CAAC,CAAA,EAAG,MAAM,WAAA;AAAY;AACpD;AACJ,KACH,CAAA;AAAA,EACL;AACJ;;;;"}
{"version":3,"file":"setUvs.js","sources":["../../../../src/scene/sprite-tiling/utils/setUvs.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { applyMatrix } from './applyMatrix';\n\nimport type { TilingSprite } from '../TilingSprite';\n\n/**\n * @param tilingSprite\n * @param uvs\n * @internal\n */\nexport function setUvs(tilingSprite: TilingSprite, uvs: Float32Array)\n{\n    const texture = tilingSprite.texture;\n\n    const width = texture.frame.width;\n    const height = texture.frame.height;\n\n    let anchorX = 0;\n    let anchorY = 0;\n\n    if (tilingSprite.applyAnchorToTexture)\n    {\n        anchorX = tilingSprite.anchor.x;\n        anchorY = tilingSprite.anchor.y;\n    }\n\n    uvs[0] = uvs[6] = -anchorX;\n    uvs[2] = uvs[4] = 1 - anchorX;\n    uvs[1] = uvs[3] = -anchorY;\n    uvs[5] = uvs[7] = 1 - anchorY;\n\n    const textureMatrix = Matrix.shared;\n\n    textureMatrix.copyFrom(tilingSprite._tileTransform.matrix);\n\n    textureMatrix.tx /= tilingSprite.width;\n    textureMatrix.ty /= tilingSprite.height;\n\n    textureMatrix.invert();\n\n    textureMatrix.scale(tilingSprite.width / width, tilingSprite.height / height);\n\n    applyMatrix(uvs, 2, 0, textureMatrix);\n}\n"],"names":["Matrix","applyMatrix"],"mappings":";;;;;;AAUO,SAAS,MAAA,CAAO,cAA4B,GAAA,EACnD;AACI,EAAA,MAAM,UAAU,YAAA,CAAa,OAAA;AAE7B,EAAA,MAAM,KAAA,GAAQ,QAAQ,KAAA,CAAM,KAAA;AAC5B,EAAA,MAAM,MAAA,GAAS,QAAQ,KAAA,CAAM,MAAA;AAE7B,EAAA,IAAI,OAAA,GAAU,CAAA;AACd,EAAA,IAAI,OAAA,GAAU,CAAA;AAEd,EAAA,IAAI,aAAa,oBAAA,EACjB;AACI,IAAA,OAAA,GAAU,aAAa,MAAA,CAAO,CAAA;AAC9B,IAAA,OAAA,GAAU,aAAa,MAAA,CAAO,CAAA;AAAA,EAClC;AAEA,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,CAAI,CAAC,IAAI,CAAC,OAAA;AACnB,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,CAAI,CAAC,IAAI,CAAA,GAAI,OAAA;AACtB,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,CAAI,CAAC,IAAI,CAAC,OAAA;AACnB,EAAA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAA,CAAI,CAAC,IAAI,CAAA,GAAI,OAAA;AAEtB,EAAA,MAAM,gBAAgBA,aAAA,CAAO,MAAA;AAE7B,EAAA,aAAA,CAAc,QAAA,CAAS,YAAA,CAAa,cAAA,CAAe,MAAM,CAAA;AAEzD,EAAA,aAAA,CAAc,MAAM,YAAA,CAAa,KAAA;AACjC,EAAA,aAAA,CAAc,MAAM,YAAA,CAAa,MAAA;AAEjC,EAAA,aAAA,CAAc,MAAA,EAAO;AAErB,EAAA,aAAA,CAAc,MAAM,YAAA,CAAa,KAAA,GAAQ,KAAA,EAAO,YAAA,CAAa,SAAS,MAAM,CAAA;AAE5E,EAAAC,uBAAA,CAAY,GAAA,EAAK,CAAA,EAAG,CAAA,EAAG,aAAa,CAAA;AACxC;;;;"}
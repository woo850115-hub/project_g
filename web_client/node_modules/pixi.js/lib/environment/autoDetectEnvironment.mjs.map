{"version":3,"file":"autoDetectEnvironment.mjs","sources":["../../src/environment/autoDetectEnvironment.ts"],"sourcesContent":["import { extensions, ExtensionType } from '../extensions/Extensions';\n\nconst environments: { name: string; value: { test: () => boolean; load: () => Promise<boolean> } }[] = [];\n\nextensions.handleByNamedList(ExtensionType.Environment, environments);\n\n/**\n * Automatically detects the environment and loads the appropriate extensions.\n * @param skip - whether to skip loading the default extensions\n * @category environment\n * @advanced\n */\nexport async function loadEnvironmentExtensions(skip: boolean): Promise<void>\n{\n    if (skip) return;\n\n    for (let i = 0; i < environments.length; i++)\n    {\n        const env = environments[i];\n\n        if (env.value.test())\n        {\n            await env.value.load();\n\n            return;\n        }\n    }\n}\n\n/**\n * @param add - whether to add the default imports to the bundle\n * @deprecated since 8.1.6. Use `loadEnvironmentExtensions` instead\n * @category environment\n * @advanced\n */\nexport async function autoDetectEnvironment(add: boolean): Promise<void>\n{\n    return loadEnvironmentExtensions(!add);\n}\n"],"names":[],"mappings":";;;AAEA,MAAM,eAAiG,EAAC;AAExG,UAAA,CAAW,iBAAA,CAAkB,aAAA,CAAc,WAAA,EAAa,YAAY,CAAA;AAQpE,eAAsB,0BAA0B,IAAA,EAChD;AACI,EAAA,IAAI,IAAA,EAAM;AAEV,EAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,YAAA,CAAa,QAAQ,CAAA,EAAA,EACzC;AACI,IAAA,MAAM,GAAA,GAAM,aAAa,CAAC,CAAA;AAE1B,IAAA,IAAI,GAAA,CAAI,KAAA,CAAM,IAAA,EAAK,EACnB;AACI,MAAA,MAAM,GAAA,CAAI,MAAM,IAAA,EAAK;AAErB,MAAA;AAAA,IACJ;AAAA,EACJ;AACJ;AAQA,eAAsB,sBAAsB,GAAA,EAC5C;AACI,EAAA,OAAO,yBAAA,CAA0B,CAAC,GAAG,CAAA;AACzC;;;;"}
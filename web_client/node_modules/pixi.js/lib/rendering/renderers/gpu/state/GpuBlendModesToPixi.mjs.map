{"version":3,"file":"GpuBlendModesToPixi.mjs","sources":["../../../../../src/rendering/renderers/gpu/state/GpuBlendModesToPixi.ts"],"sourcesContent":["import type { BLEND_MODES } from '../../shared/state/const';\n\n/** @internal */\nexport const GpuBlendModesToPixi: Partial<Record<BLEND_MODES, GPUBlendState>> = {};\n\nGpuBlendModesToPixi.normal = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.add = {\n    alpha: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.multiply = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'dst',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.screen = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.overlay = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.none = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'zero',\n        dstFactor: 'zero',\n        operation: 'add',\n    },\n};\n\n// not-premultiplied blend modes\nGpuBlendModesToPixi['normal-npm'] = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi['add-npm'] = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi['screen-npm'] = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'src-alpha',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.erase = {\n    alpha: {\n        srcFactor: 'zero',\n        dstFactor: 'one-minus-src-alpha',\n        operation: 'add',\n    },\n    color: {\n        srcFactor: 'zero',\n        dstFactor: 'one-minus-src',\n        operation: 'add',\n    },\n};\n\nGpuBlendModesToPixi.min = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'min',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'min',\n    },\n};\n\nGpuBlendModesToPixi.max = {\n    alpha: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'max',\n    },\n    color: {\n        srcFactor: 'one',\n        dstFactor: 'one',\n        operation: 'max',\n    },\n};\n\n// composite operations\n// GpuBlendModesToPixi[BLEND_MODES.SRC_IN] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'dst-alpha',\n//         dstFactor: 'zero',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.SRC_OUT] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'zero',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.SRC_ATOP] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'dst-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_OVER] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'one',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_IN] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'zero',\n//         dstFactor: 'src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_OUT] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'zero',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.DST_ATOP] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// GpuBlendModesToPixi[BLEND_MODES.XOR] = {\n//     alpha: {\n//         srcFactor: 'src-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n\n// TODO - fix me\n// GLBlendModesToPixi[BLEND_MODES.SUBTRACT] = {\n//     alpha: {\n//         srcFactor: 'one',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n//     color: {\n//         srcFactor: 'one-minus-dst-alpha',\n//         dstFactor: 'one-minus-src-alpha',\n//         operation: 'add',\n//     },\n// };\n"],"names":[],"mappings":"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"}
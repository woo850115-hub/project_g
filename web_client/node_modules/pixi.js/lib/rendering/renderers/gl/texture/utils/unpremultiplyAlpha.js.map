{"version":3,"file":"unpremultiplyAlpha.js","sources":["../../../../../../src/rendering/renderers/gl/texture/utils/unpremultiplyAlpha.ts"],"sourcesContent":["/**\n * @param pixels\n * @internal\n */\nexport function unpremultiplyAlpha(pixels: Uint8Array | Uint8ClampedArray): void\n{\n    if (pixels instanceof Uint8ClampedArray)\n    {\n        pixels = new Uint8Array(pixels.buffer);\n    }\n\n    const n = pixels.length;\n\n    for (let i = 0; i < n; i += 4)\n    {\n        const alpha = pixels[i + 3];\n\n        if (alpha !== 0)\n        {\n            const a = 255.001 / alpha;\n\n            pixels[i] = (pixels[i] * a) + 0.5;\n            pixels[i + 1] = (pixels[i + 1] * a) + 0.5;\n            pixels[i + 2] = (pixels[i + 2] * a) + 0.5;\n        }\n    }\n}\n"],"names":[],"mappings":";;;AAIO,SAAS,mBAAmB,MAAA,EACnC;AACI,EAAA,IAAI,kBAAkB,iBAAA,EACtB;AACI,IAAA,MAAA,GAAS,IAAI,UAAA,CAAW,MAAA,CAAO,MAAM,CAAA;AAAA,EACzC;AAEA,EAAA,MAAM,IAAI,MAAA,CAAO,MAAA;AAEjB,EAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,CAAA,EAAG,KAAK,CAAA,EAC5B;AACI,IAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,CAAA,GAAI,CAAC,CAAA;AAE1B,IAAA,IAAI,UAAU,CAAA,EACd;AACI,MAAA,MAAM,IAAI,OAAA,GAAU,KAAA;AAEpB,MAAA,MAAA,CAAO,CAAC,CAAA,GAAK,MAAA,CAAO,CAAC,IAAI,CAAA,GAAK,GAAA;AAC9B,MAAA,MAAA,CAAO,IAAI,CAAC,CAAA,GAAK,OAAO,CAAA,GAAI,CAAC,IAAI,CAAA,GAAK,GAAA;AACtC,MAAA,MAAA,CAAO,IAAI,CAAC,CAAA,GAAK,OAAO,CAAA,GAAI,CAAC,IAAI,CAAA,GAAK,GAAA;AAAA,IAC1C;AAAA,EACJ;AACJ;;;;"}
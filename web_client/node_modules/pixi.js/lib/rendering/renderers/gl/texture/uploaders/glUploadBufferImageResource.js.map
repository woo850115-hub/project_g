{"version":3,"file":"glUploadBufferImageResource.js","sources":["../../../../../../src/rendering/renderers/gl/texture/uploaders/glUploadBufferImageResource.ts"],"sourcesContent":["import type { TextureSource } from '../../../shared/texture/sources/TextureSource';\nimport type { GlRenderingContext } from '../../context/GlRenderingContext';\nimport type { GlTexture } from '../GlTexture';\nimport type { GLTextureUploader } from './GLTextureUploader';\n\n/** @internal */\nexport const glUploadBufferImageResource = {\n\n    id: 'buffer',\n\n    upload(\n        source: TextureSource,\n        glTexture: GlTexture,\n        gl: GlRenderingContext,\n        _webGLVersion: number,\n        targetOverride?: number,\n        forceAllocation = false\n    )\n    {\n        const target = targetOverride || glTexture.target;\n\n        if (!forceAllocation && (glTexture.width === source.width && glTexture.height === source.height))\n        {\n            gl.texSubImage2D(\n                target,\n                0,\n                0,\n                0,\n                source.width,\n                source.height,\n                glTexture.format,\n                glTexture.type,\n                source.resource\n            );\n        }\n        else\n        {\n            gl.texImage2D(\n                target,\n                0,\n                glTexture.internalFormat,\n                source.width,\n                source.height,\n                0,\n                glTexture.format,\n                glTexture.type,\n                source.resource\n            );\n        }\n\n        glTexture.width = source.width;\n        glTexture.height = source.height;\n    }\n} as GLTextureUploader;\n\n"],"names":[],"mappings":";;;AAMO,MAAM,2BAAA,GAA8B;AAAA,EAEvC,EAAA,EAAI,QAAA;AAAA,EAEJ,OACI,MAAA,EACA,SAAA,EACA,IACA,aAAA,EACA,cAAA,EACA,kBAAkB,KAAA,EAEtB;AACI,IAAA,MAAM,MAAA,GAAS,kBAAkB,SAAA,CAAU,MAAA;AAE3C,IAAA,IAAI,CAAC,oBAAoB,SAAA,CAAU,KAAA,KAAU,OAAO,KAAA,IAAS,SAAA,CAAU,MAAA,KAAW,MAAA,CAAO,MAAA,CAAA,EACzF;AACI,MAAA,EAAA,CAAG,aAAA;AAAA,QACC,MAAA;AAAA,QACA,CAAA;AAAA,QACA,CAAA;AAAA,QACA,CAAA;AAAA,QACA,MAAA,CAAO,KAAA;AAAA,QACP,MAAA,CAAO,MAAA;AAAA,QACP,SAAA,CAAU,MAAA;AAAA,QACV,SAAA,CAAU,IAAA;AAAA,QACV,MAAA,CAAO;AAAA,OACX;AAAA,IACJ,CAAA,MAEA;AACI,MAAA,EAAA,CAAG,UAAA;AAAA,QACC,MAAA;AAAA,QACA,CAAA;AAAA,QACA,SAAA,CAAU,cAAA;AAAA,QACV,MAAA,CAAO,KAAA;AAAA,QACP,MAAA,CAAO,MAAA;AAAA,QACP,CAAA;AAAA,QACA,SAAA,CAAU,MAAA;AAAA,QACV,SAAA,CAAU,IAAA;AAAA,QACV,MAAA,CAAO;AAAA,OACX;AAAA,IACJ;AAEA,IAAA,SAAA,CAAU,QAAQ,MAAA,CAAO,KAAA;AACzB,IAAA,SAAA,CAAU,SAAS,MAAA,CAAO,MAAA;AAAA,EAC9B;AACJ;;;;"}
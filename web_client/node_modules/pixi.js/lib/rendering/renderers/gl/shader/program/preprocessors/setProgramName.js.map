{"version":3,"file":"setProgramName.js","sources":["../../../../../../../src/rendering/renderers/gl/shader/program/preprocessors/setProgramName.ts"],"sourcesContent":["const fragmentNameCache: { [key: string]: number } = {};\nconst VertexNameCache: { [key: string]: number } = {};\n\n/**\n * @param src\n * @param root0\n * @param root0.name\n * @param isFragment\n * @internal\n */\nexport function setProgramName(src: string, { name = `pixi-program` }: { name: string; }, isFragment = true)\n{\n    name = name.replace(/\\s+/g, '-');\n\n    name += isFragment ? '-fragment' : '-vertex';\n\n    const nameCache = isFragment ? fragmentNameCache : VertexNameCache;\n\n    if (nameCache[name])\n    {\n        nameCache[name]++;\n        name += `-${nameCache[name]}`;\n    }\n    else\n    {\n        nameCache[name] = 1;\n    }\n\n    // if it already contains the define return\n    if (src.indexOf('#define SHADER_NAME') !== -1) return src;\n\n    const shaderName = `#define SHADER_NAME ${name}`;\n\n    return `${shaderName}\\n${src}`;\n}\n"],"names":[],"mappings":";;;AAAA,MAAM,oBAA+C,EAAC;AACtD,MAAM,kBAA6C,EAAC;AAS7C,SAAS,eAAe,GAAA,EAAa,EAAE,OAAO,CAAA,YAAA,CAAA,EAAe,EAAsB,aAAa,IAAA,EACvG;AACI,EAAA,IAAA,GAAO,IAAA,CAAK,OAAA,CAAQ,MAAA,EAAQ,GAAG,CAAA;AAE/B,EAAA,IAAA,IAAQ,aAAa,WAAA,GAAc,SAAA;AAEnC,EAAA,MAAM,SAAA,GAAY,aAAa,iBAAA,GAAoB,eAAA;AAEnD,EAAA,IAAI,SAAA,CAAU,IAAI,CAAA,EAClB;AACI,IAAA,SAAA,CAAU,IAAI,CAAA,EAAA;AACd,IAAA,IAAA,IAAQ,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,CAAC,CAAA,CAAA;AAAA,EAC/B,CAAA,MAEA;AACI,IAAA,SAAA,CAAU,IAAI,CAAA,GAAI,CAAA;AAAA,EACtB;AAGA,EAAA,IAAI,GAAA,CAAI,OAAA,CAAQ,qBAAqB,CAAA,KAAM,IAAI,OAAO,GAAA;AAEtD,EAAA,MAAM,UAAA,GAAa,uBAAuB,IAAI,CAAA,CAAA;AAE9C,EAAA,OAAO,GAAG,UAAU;AAAA,EAAK,GAAG,CAAA,CAAA;AAChC;;;;"}
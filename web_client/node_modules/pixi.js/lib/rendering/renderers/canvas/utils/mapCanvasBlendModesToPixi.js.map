{"version":3,"file":"mapCanvasBlendModesToPixi.js","sources":["../../../../../src/rendering/renderers/canvas/utils/mapCanvasBlendModesToPixi.ts"],"sourcesContent":["import { canUseNewCanvasBlendModes } from './canUseNewCanvasBlendModes';\n\nimport type { BLEND_MODES } from '../../shared/state/const';\n\nconst FALLBACK_BLEND: GlobalCompositeOperation = 'source-over';\n\n/**\n * Builds the Canvas blend mode map for Pixi blend enums.\n * @returns A mapping of Pixi blend modes to canvas composite ops.\n * @internal\n */\nexport function mapCanvasBlendModesToPixi(): Record<BLEND_MODES, GlobalCompositeOperation | null>\n{\n    const supportsAdvanced = canUseNewCanvasBlendModes();\n    const map = Object.create(null) as Record<BLEND_MODES, GlobalCompositeOperation>;\n\n    map.inherit = FALLBACK_BLEND;\n    map.none = FALLBACK_BLEND;\n\n    map.normal = 'source-over';\n    map.add = 'lighter';\n    map.multiply = supportsAdvanced ? 'multiply' : FALLBACK_BLEND;\n    map.screen = supportsAdvanced ? 'screen' : FALLBACK_BLEND;\n    map.overlay = supportsAdvanced ? 'overlay' : FALLBACK_BLEND;\n    map.darken = supportsAdvanced ? 'darken' : FALLBACK_BLEND;\n    map.lighten = supportsAdvanced ? 'lighten' : FALLBACK_BLEND;\n    map['color-dodge'] = supportsAdvanced ? 'color-dodge' : FALLBACK_BLEND;\n    map['color-burn'] = supportsAdvanced ? 'color-burn' : FALLBACK_BLEND;\n    map['hard-light'] = supportsAdvanced ? 'hard-light' : FALLBACK_BLEND;\n    map['soft-light'] = supportsAdvanced ? 'soft-light' : FALLBACK_BLEND;\n    map.difference = supportsAdvanced ? 'difference' : FALLBACK_BLEND;\n    map.exclusion = supportsAdvanced ? 'exclusion' : FALLBACK_BLEND;\n    map.saturation = supportsAdvanced ? 'saturation' : FALLBACK_BLEND;\n    map.color = supportsAdvanced ? 'color' : FALLBACK_BLEND;\n    map.luminosity = supportsAdvanced ? 'luminosity' : FALLBACK_BLEND;\n\n    map['linear-burn'] = supportsAdvanced ? 'color-burn' : FALLBACK_BLEND;\n    map['linear-dodge'] = supportsAdvanced ? 'color-dodge' : FALLBACK_BLEND;\n    map['linear-light'] = supportsAdvanced ? 'hard-light' : FALLBACK_BLEND;\n    map['pin-light'] = supportsAdvanced ? 'hard-light' : FALLBACK_BLEND;\n    map['vivid-light'] = supportsAdvanced ? 'hard-light' : FALLBACK_BLEND;\n    map['hard-mix'] = FALLBACK_BLEND;\n    map.negation = supportsAdvanced ? 'difference' : FALLBACK_BLEND;\n\n    map['normal-npm'] = map.normal;\n    map['add-npm'] = map.add;\n    map['screen-npm'] = map.screen;\n\n    map.erase = 'destination-out';\n    map.subtract = FALLBACK_BLEND;\n    map.divide = FALLBACK_BLEND;\n    map.min = FALLBACK_BLEND;\n    map.max = FALLBACK_BLEND;\n\n    return map;\n}\n"],"names":["canUseNewCanvasBlendModes"],"mappings":";;;;;AAIA,MAAM,cAAA,GAA2C,aAAA;AAO1C,SAAS,yBAAA,GAChB;AACI,EAAA,MAAM,mBAAmBA,mDAAA,EAA0B;AACnD,EAAA,MAAM,GAAA,mBAAM,MAAA,CAAO,MAAA,CAAO,IAAI,CAAA;AAE9B,EAAA,GAAA,CAAI,OAAA,GAAU,cAAA;AACd,EAAA,GAAA,CAAI,IAAA,GAAO,cAAA;AAEX,EAAA,GAAA,CAAI,MAAA,GAAS,aAAA;AACb,EAAA,GAAA,CAAI,GAAA,GAAM,SAAA;AACV,EAAA,GAAA,CAAI,QAAA,GAAW,mBAAmB,UAAA,GAAa,cAAA;AAC/C,EAAA,GAAA,CAAI,MAAA,GAAS,mBAAmB,QAAA,GAAW,cAAA;AAC3C,EAAA,GAAA,CAAI,OAAA,GAAU,mBAAmB,SAAA,GAAY,cAAA;AAC7C,EAAA,GAAA,CAAI,MAAA,GAAS,mBAAmB,QAAA,GAAW,cAAA;AAC3C,EAAA,GAAA,CAAI,OAAA,GAAU,mBAAmB,SAAA,GAAY,cAAA;AAC7C,EAAA,GAAA,CAAI,aAAa,CAAA,GAAI,gBAAA,GAAmB,aAAA,GAAgB,cAAA;AACxD,EAAA,GAAA,CAAI,YAAY,CAAA,GAAI,gBAAA,GAAmB,YAAA,GAAe,cAAA;AACtD,EAAA,GAAA,CAAI,YAAY,CAAA,GAAI,gBAAA,GAAmB,YAAA,GAAe,cAAA;AACtD,EAAA,GAAA,CAAI,YAAY,CAAA,GAAI,gBAAA,GAAmB,YAAA,GAAe,cAAA;AACtD,EAAA,GAAA,CAAI,UAAA,GAAa,mBAAmB,YAAA,GAAe,cAAA;AACnD,EAAA,GAAA,CAAI,SAAA,GAAY,mBAAmB,WAAA,GAAc,cAAA;AACjD,EAAA,GAAA,CAAI,UAAA,GAAa,mBAAmB,YAAA,GAAe,cAAA;AACnD,EAAA,GAAA,CAAI,KAAA,GAAQ,mBAAmB,OAAA,GAAU,cAAA;AACzC,EAAA,GAAA,CAAI,UAAA,GAAa,mBAAmB,YAAA,GAAe,cAAA;AAEnD,EAAA,GAAA,CAAI,aAAa,CAAA,GAAI,gBAAA,GAAmB,YAAA,GAAe,cAAA;AACvD,EAAA,GAAA,CAAI,cAAc,CAAA,GAAI,gBAAA,GAAmB,aAAA,GAAgB,cAAA;AACzD,EAAA,GAAA,CAAI,cAAc,CAAA,GAAI,gBAAA,GAAmB,YAAA,GAAe,cAAA;AACxD,EAAA,GAAA,CAAI,WAAW,CAAA,GAAI,gBAAA,GAAmB,YAAA,GAAe,cAAA;AACrD,EAAA,GAAA,CAAI,aAAa,CAAA,GAAI,gBAAA,GAAmB,YAAA,GAAe,cAAA;AACvD,EAAA,GAAA,CAAI,UAAU,CAAA,GAAI,cAAA;AAClB,EAAA,GAAA,CAAI,QAAA,GAAW,mBAAmB,YAAA,GAAe,cAAA;AAEjD,EAAA,GAAA,CAAI,YAAY,IAAI,GAAA,CAAI,MAAA;AACxB,EAAA,GAAA,CAAI,SAAS,IAAI,GAAA,CAAI,GAAA;AACrB,EAAA,GAAA,CAAI,YAAY,IAAI,GAAA,CAAI,MAAA;AAExB,EAAA,GAAA,CAAI,KAAA,GAAQ,iBAAA;AACZ,EAAA,GAAA,CAAI,QAAA,GAAW,cAAA;AACf,EAAA,GAAA,CAAI,MAAA,GAAS,cAAA;AACb,EAAA,GAAA,CAAI,GAAA,GAAM,cAAA;AACV,EAAA,GAAA,CAAI,GAAA,GAAM,cAAA;AAEV,EAAA,OAAO,GAAA;AACX;;;;"}
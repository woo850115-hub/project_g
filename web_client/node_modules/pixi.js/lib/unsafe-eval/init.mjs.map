{"version":3,"file":"init.mjs","sources":["../../src/unsafe-eval/init.ts"],"sourcesContent":["import { GlUboSystem } from '../rendering/renderers/gl/GlUboSystem';\nimport { GlShaderSystem } from '../rendering/renderers/gl/shader/GlShaderSystem';\nimport { GlUniformGroupSystem } from '../rendering/renderers/gl/shader/GlUniformGroupSystem';\nimport { GpuUboSystem } from '../rendering/renderers/gpu/GpuUboSystem';\nimport { UboSystem } from '../rendering/renderers/shared/shader/UboSystem';\nimport { AbstractRenderer } from '../rendering/renderers/shared/system/AbstractRenderer';\nimport { ParticleBuffer } from '../scene/particle-container/shared/ParticleBuffer';\nimport { generateParticleUpdatePolyfill } from './particle/generateParticleUpdatePolyfill';\nimport { generateShaderSyncPolyfill } from './shader/generateShaderSyncPolyfill';\nimport {\n    generateUboSyncPolyfillSTD40,\n    generateUboSyncPolyfillWGSL\n} from './ubo/generateUboSyncPolyfill';\nimport { generateUniformsSyncPolyfill } from './uniforms/generateUniformsSyncPolyfill';\n\nfunction selfInstall()\n{\n    Object.assign(AbstractRenderer.prototype, {\n        // override unsafeEval check, as we don't need to use it\n        _unsafeEvalCheck()\n        {\n            // Do nothing, don't throw error\n        },\n    });\n\n    Object.assign(UboSystem.prototype, {\n        // override unsafeEval check, as we don't need to use it\n        _systemCheck()\n        {\n            // Do nothing, don't throw error\n        },\n    });\n\n    Object.assign(GlUniformGroupSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUniformsSync: generateUniformsSyncPolyfill,\n    });\n\n    Object.assign(GlUboSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUboSync: generateUboSyncPolyfillSTD40,\n    });\n\n    Object.assign(GpuUboSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUboSync: generateUboSyncPolyfillWGSL,\n    });\n\n    Object.assign(GlShaderSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateShaderSync: generateShaderSyncPolyfill,\n    });\n\n    Object.assign(ParticleBuffer.prototype, {\n\n        // use polyfill which avoids eval method\n        generateParticleUpdate: generateParticleUpdatePolyfill,\n    });\n}\n\nselfInstall();\n"],"names":[],"mappings":";;;;;;;;;;;;;AAeA,SAAS,WAAA,GACT;AACI,EAAA,MAAA,CAAO,MAAA,CAAO,iBAAiB,SAAA,EAAW;AAAA;AAAA,IAEtC,gBAAA,GACA;AAAA,IAEA;AAAA,GACH,CAAA;AAED,EAAA,MAAA,CAAO,MAAA,CAAO,UAAU,SAAA,EAAW;AAAA;AAAA,IAE/B,YAAA,GACA;AAAA,IAEA;AAAA,GACH,CAAA;AAED,EAAA,MAAA,CAAO,MAAA,CAAO,qBAAqB,SAAA,EAAW;AAAA;AAAA,IAE1C,qBAAA,EAAuB;AAAA,GAC1B,CAAA;AAED,EAAA,MAAA,CAAO,MAAA,CAAO,YAAY,SAAA,EAAW;AAAA;AAAA,IAEjC,gBAAA,EAAkB;AAAA,GACrB,CAAA;AAED,EAAA,MAAA,CAAO,MAAA,CAAO,aAAa,SAAA,EAAW;AAAA;AAAA,IAElC,gBAAA,EAAkB;AAAA,GACrB,CAAA;AAED,EAAA,MAAA,CAAO,MAAA,CAAO,eAAe,SAAA,EAAW;AAAA;AAAA,IAEpC,mBAAA,EAAqB;AAAA,GACxB,CAAA;AAED,EAAA,MAAA,CAAO,MAAA,CAAO,eAAe,SAAA,EAAW;AAAA;AAAA,IAGpC,sBAAA,EAAwB;AAAA,GAC3B,CAAA;AACL;AAEA,WAAA,EAAY"}
{"version":3,"file":"unsafe-eval.js","sources":["../../src/utils/data/ViewableBuffer.ts","../../src/scene/particle-container/shared/utils/createIndicesForQuads.ts","../../src/scene/particle-container/shared/utils/generateParticleUpdateFunction.ts","../../src/scene/particle-container/shared/ParticleBuffer.ts","../../src/unsafe-eval/particle/particleUpdateFunctions.ts","../../src/unsafe-eval/particle/generateParticleUpdatePolyfill.ts","../../src/unsafe-eval/shader/generateShaderSyncPolyfill.ts","../../src/unsafe-eval/ubo/uboSyncFunctions.ts","../../src/unsafe-eval/ubo/generateUboSyncPolyfill.ts","../../src/unsafe-eval/uniforms/uniformSyncFunctions.ts","../../src/unsafe-eval/uniforms/generateUniformsSyncPolyfill.ts","../../src/unsafe-eval/init.ts"],"sourcesContent":["import { type TypedArray } from '../../rendering/renderers/shared/buffer/Buffer';\n\n/**\n * Flexible wrapper around `ArrayBuffer` that also provides typed array views on demand.\n * @category utils\n * @advanced\n */\nexport class ViewableBuffer\n{\n    /** The size of the buffer in bytes. */\n    public size: number;\n\n    /** Underlying `ArrayBuffer` that holds all the data and is of capacity `this.size`. */\n    public rawBinaryData: ArrayBufferLike;\n\n    /** View on the raw binary data as a `Uint32Array`. */\n    public uint32View: Uint32Array;\n\n    /** View on the raw binary data as a `Float32Array`. */\n    public float32View: Float32Array;\n    /** View on the raw binary data as a `Uint16Array`. */\n    public uint16View: Uint16Array;\n\n    private _int8View: Int8Array;\n    private _uint8View: Uint8Array;\n    private _int16View: Int16Array;\n    private _int32View: Int32Array;\n    private _float64Array: Float64Array;\n    private _bigUint64Array: BigUint64Array;\n\n    /**\n     * @param length - The size of the buffer in bytes.\n     */\n    constructor(length: number);\n\n    /**\n     * @param arrayBuffer - The source array buffer.\n     */\n    constructor(arrayBuffer: ArrayBufferLike);\n\n    constructor(sizeOrBuffer: number | ArrayBufferLike | Uint8Array)\n    {\n        if (typeof sizeOrBuffer === 'number')\n        {\n            this.rawBinaryData = new ArrayBuffer(sizeOrBuffer);\n        }\n        else if (sizeOrBuffer instanceof Uint8Array)\n        {\n            this.rawBinaryData = sizeOrBuffer.buffer as ArrayBuffer;\n        }\n        else\n        {\n            this.rawBinaryData = sizeOrBuffer;\n        }\n\n        this.uint32View = new Uint32Array(this.rawBinaryData);\n        this.float32View = new Float32Array(this.rawBinaryData);\n\n        this.size = this.rawBinaryData.byteLength;\n    }\n\n    /** View on the raw binary data as a `Int8Array`. */\n    get int8View(): Int8Array\n    {\n        if (!this._int8View)\n        {\n            this._int8View = new Int8Array(this.rawBinaryData);\n        }\n\n        return this._int8View;\n    }\n\n    /** View on the raw binary data as a `Uint8Array`. */\n    get uint8View(): Uint8Array\n    {\n        if (!this._uint8View)\n        {\n            this._uint8View = new Uint8Array(this.rawBinaryData);\n        }\n\n        return this._uint8View;\n    }\n\n    /**  View on the raw binary data as a `Int16Array`. */\n    get int16View(): Int16Array\n    {\n        if (!this._int16View)\n        {\n            this._int16View = new Int16Array(this.rawBinaryData);\n        }\n\n        return this._int16View;\n    }\n\n    /** View on the raw binary data as a `Int32Array`. */\n    get int32View(): Int32Array\n    {\n        if (!this._int32View)\n        {\n            this._int32View = new Int32Array(this.rawBinaryData);\n        }\n\n        return this._int32View;\n    }\n\n    /** View on the raw binary data as a `Float64Array`. */\n    get float64View(): Float64Array\n    {\n        if (!this._float64Array)\n        {\n            this._float64Array = new Float64Array(this.rawBinaryData);\n        }\n\n        return this._float64Array;\n    }\n\n    /** View on the raw binary data as a `BigUint64Array`. */\n    get bigUint64View(): BigUint64Array\n    {\n        if (!this._bigUint64Array)\n        {\n            this._bigUint64Array = new BigUint64Array(this.rawBinaryData);\n        }\n\n        return this._bigUint64Array;\n    }\n\n    /**\n     * Returns the view of the given type.\n     * @param type - One of `int8`, `uint8`, `int16`,\n     *    `uint16`, `int32`, `uint32`, and `float32`.\n     * @returns - typed array of given type\n     */\n    public view(type: string): TypedArray\n    {\n        return (this as any)[`${type}View`];\n    }\n\n    /** Destroys all buffer references. Do not use after calling this. */\n    public destroy(): void\n    {\n        this.rawBinaryData = null;\n        this.uint32View = null;\n        this.float32View = null;\n        this.uint16View = null;\n        this._int8View = null;\n        this._uint8View = null;\n        this._int16View = null;\n        this._int32View = null;\n        this._float64Array = null;\n        this._bigUint64Array = null;\n    }\n\n    /**\n     * Returns the size of the given type in bytes.\n     * @param type - One of `int8`, `uint8`, `int16`,\n     *   `uint16`, `int32`, `uint32`, and `float32`.\n     * @returns - size of the type in bytes\n     */\n    public static sizeOf(type: string): number\n    {\n        switch (type)\n        {\n            case 'int8':\n            case 'uint8':\n                return 1;\n            case 'int16':\n            case 'uint16':\n                return 2;\n            case 'int32':\n            case 'uint32':\n            case 'float32':\n                return 4;\n            default:\n                throw new Error(`${type} isn't a valid view type`);\n        }\n    }\n}\n","/**\n * Generic Mask Stack data structure\n * @function createIndicesForQuads\n * @param {number} size - Number of quads\n * @param {Uint16Array|Uint32Array} [outBuffer] - Buffer for output, length has to be `6 * size`\n * @returns {Uint16Array|Uint32Array} - Resulting index buffer\n * @internal\n */\nexport function createIndicesForQuads(\n    size: number,\n    outBuffer: Uint16Array | Uint32Array | null = null\n): Uint16Array | Uint32Array\n{\n    // the total number of indices in our array, there are 6 points per quad.\n    const totalIndices = size * 6;\n\n    // Check if we need to use Uint32Array\n    if (totalIndices > 65535)\n    {\n        outBuffer ||= new Uint32Array(totalIndices); // Use Uint32Array if needed\n    }\n    else\n    {\n        outBuffer ||= new Uint16Array(totalIndices);\n    }\n\n    if (outBuffer.length !== totalIndices)\n    {\n        throw new Error(`Out buffer length is incorrect, got ${outBuffer.length} and expected ${totalIndices}`);\n    }\n\n    // fill the indices with the quads to draw\n    for (let i = 0, j = 0; i < totalIndices; i += 6, j += 4)\n    {\n        outBuffer[i + 0] = j + 0;\n        outBuffer[i + 1] = j + 1;\n        outBuffer[i + 2] = j + 2;\n        outBuffer[i + 3] = j + 0;\n        outBuffer[i + 4] = j + 2;\n        outBuffer[i + 5] = j + 3;\n    }\n\n    return outBuffer;\n}\n","import {\n    getAttributeInfoFromFormat\n} from '../../../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat';\n\nimport type { IParticle } from '../Particle';\nimport type { ParticleRendererProperty } from '../particleData';\n\n// TODO rename to update function\n/** @internal */\nexport type ParticleUpdateFunction = (ps: IParticle[], f32v: Float32Array, u32v: Uint32Array) => void;\n\n/**\n * @param properties\n * @internal\n */\nexport function generateParticleUpdateFunction(properties: Record<string, ParticleRendererProperty>)\n{\n    return {\n        dynamicUpdate: generateUpdateFunction(properties, true),\n        staticUpdate: generateUpdateFunction(properties, false),\n    };\n}\n\nfunction generateUpdateFunction(\n    properties: Record<string, ParticleRendererProperty>,\n    dynamic: boolean\n): ParticleUpdateFunction\n{\n    const funcFragments: string[] = [];\n\n    funcFragments.push(`\n\n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            `);\n\n    let offset = 0;\n\n    for (const i in properties)\n    {\n        const property = properties[i];\n\n        if (dynamic !== property.dynamic) continue;\n\n        funcFragments.push(`offset = index + ${offset}`);\n\n        funcFragments.push(property.code);\n\n        const attributeInfo = getAttributeInfoFromFormat(property.format);\n\n        offset += attributeInfo.stride / 4;\n    }\n\n    funcFragments.push(`\n            index += stride * 4;\n        }\n    `);\n\n    // add to the front..\n    funcFragments.unshift(`\n        var stride = ${offset};\n    `);\n\n    const functionSource = funcFragments.join('\\n');\n\n    // eslint-disable-next-line no-new-func\n    return new Function('ps', 'f32v', 'u32v', functionSource) as ParticleUpdateFunction;\n}\n","import { Buffer } from '../../../rendering/renderers/shared/buffer/Buffer';\nimport { BufferUsage } from '../../../rendering/renderers/shared/buffer/const';\nimport { Geometry } from '../../../rendering/renderers/shared/geometry/Geometry';\nimport { getAttributeInfoFromFormat } from '../../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat';\nimport { ViewableBuffer } from '../../../utils/data/ViewableBuffer';\nimport { type GPUData } from '../../view/ViewContainer';\nimport { createIndicesForQuads } from './utils/createIndicesForQuads';\nimport { generateParticleUpdateFunction } from './utils/generateParticleUpdateFunction';\n\nimport type { IndexBufferArray } from '../../../rendering/renderers/shared/geometry/Geometry';\nimport type { IParticle } from './Particle';\nimport type { ParticleRendererProperty } from './particleData';\nimport type { ParticleUpdateFunction } from './utils/generateParticleUpdateFunction';\n\n/**\n * Options for creating a ParticleBuffer.\n * @internal\n */\nexport interface ParticleBufferOptions\n{\n    /** The size of the particle buffer, defaults to 1000. */\n    size: number;\n    /** A record of attributes that the particle container uses. */\n    properties: Record<string, ParticleRendererProperty>;\n}\n\n/**\n * The ParticleBuffer holds the buffers and geometry for a particle container.\n * It also contains the upload functions for the static and dynamic properties.\n * @internal\n */\nexport class ParticleBuffer implements GPUData\n{\n    /** The buffer containing static attribute data for all elements in the batch. */\n    public staticAttributeBuffer: ViewableBuffer;\n    /** The buffer containing dynamic attribute data for all elements in the batch. */\n    public dynamicAttributeBuffer: ViewableBuffer;\n\n    private readonly _staticBuffer: Buffer;\n    private readonly _dynamicBuffer: Buffer;\n\n    /** The buffer containing index data for all elements in the batch. */\n    public indexBuffer: IndexBufferArray;\n\n    private readonly _dynamicStride: number;\n    private readonly _staticStride: number;\n\n    /** The geometry of the particle buffer. */\n    public readonly geometry: Geometry;\n\n    private _size = 0;\n    private readonly _dynamicUpload: ParticleUpdateFunction;\n    private readonly _staticUpload: ParticleUpdateFunction;\n    private readonly _generateParticleUpdateCache: Record<string, {\n        dynamicUpdate: ParticleUpdateFunction;\n        staticUpdate: ParticleUpdateFunction;\n    }> = {};\n\n    constructor(options: ParticleBufferOptions)\n    {\n        // size in sprites!\n        const size = this._size = options.size ?? 1000;\n\n        // TODO add the option to specify what is dynamic!\n        const properties = options.properties;\n\n        // in bytes!\n        let staticVertexSize = 0;\n        let dynamicVertexSize = 0;\n\n        for (const i in properties)\n        {\n            const property = properties[i];\n            const attributeInfo = getAttributeInfoFromFormat(property.format);\n\n            if (property.dynamic)\n            {\n                // dynamic.\n                dynamicVertexSize += attributeInfo.stride;\n            }\n            else\n            {\n                // static.\n                staticVertexSize += attributeInfo.stride;\n            }\n        }\n\n        this._dynamicStride = dynamicVertexSize / 4;\n        this._staticStride = staticVertexSize / 4;\n\n        this.staticAttributeBuffer = new ViewableBuffer(size * 4 * staticVertexSize);\n        this.dynamicAttributeBuffer = new ViewableBuffer(size * 4 * dynamicVertexSize);\n\n        this.indexBuffer = createIndicesForQuads(size);\n\n        // build geometry..\n\n        const geometry = new Geometry();\n\n        let dynamicOffset = 0;\n        let staticOffset = 0;\n\n        this._staticBuffer = new Buffer({\n            data: new Float32Array(1),\n            label: 'static-particle-buffer',\n            shrinkToFit: false,\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n        });\n\n        this._dynamicBuffer = new Buffer({\n            data: new Float32Array(1),\n            label: 'dynamic-particle-buffer',\n            shrinkToFit: false,\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n        });\n\n        for (const i in properties)\n        {\n            const property = properties[i];\n            const attributeInfo = getAttributeInfoFromFormat(property.format);\n\n            if (property.dynamic)\n            {\n                geometry.addAttribute(property.attributeName, {\n                    buffer: this._dynamicBuffer,\n                    stride: this._dynamicStride * 4,\n                    offset: dynamicOffset * 4,\n                    format: property.format,\n                });\n                dynamicOffset += attributeInfo.size;\n            }\n            else\n            {\n                geometry.addAttribute(property.attributeName, {\n                    buffer: this._staticBuffer,\n                    stride: this._staticStride * 4,\n                    offset: staticOffset * 4,\n                    format: property.format,\n                });\n                staticOffset += attributeInfo.size;\n            }\n        }\n\n        geometry.addIndex(this.indexBuffer);\n\n        const uploadFunction = this.getParticleUpdate(properties);\n\n        this._dynamicUpload = uploadFunction.dynamicUpdate;\n        this._staticUpload = uploadFunction.staticUpdate;\n\n        this.geometry = geometry;\n    }\n\n    public getParticleUpdate(properties: Record<string, ParticleRendererProperty>)\n    {\n        const key = getParticleSyncKey(properties);\n\n        if (this._generateParticleUpdateCache[key])\n        {\n            return this._generateParticleUpdateCache[key];\n        }\n\n        this._generateParticleUpdateCache[key] = this.generateParticleUpdate(properties);\n\n        return this._generateParticleUpdateCache[key];\n    }\n\n    public generateParticleUpdate(properties: Record<string, ParticleRendererProperty>)\n    {\n        return generateParticleUpdateFunction(properties);\n    }\n\n    public update(particles: IParticle[], uploadStatic: boolean)\n    {\n        // first resize the buffers if needed!\n        // TODO resize!\n        if (particles.length > this._size)\n        {\n            uploadStatic = true;\n\n            this._size = Math.max(particles.length, (this._size * 1.5) | 0);\n\n            this.staticAttributeBuffer = new ViewableBuffer(this._size * this._staticStride * 4 * 4);\n            this.dynamicAttributeBuffer = new ViewableBuffer(this._size * this._dynamicStride * 4 * 4);\n            this.indexBuffer = createIndicesForQuads(this._size);\n\n            this.geometry.indexBuffer.setDataWithSize(\n                this.indexBuffer, this.indexBuffer.byteLength, true);\n        }\n\n        const dynamicAttributeBuffer = this.dynamicAttributeBuffer;\n\n        this._dynamicUpload(particles, dynamicAttributeBuffer.float32View, dynamicAttributeBuffer.uint32View);\n\n        this._dynamicBuffer.setDataWithSize(\n            this.dynamicAttributeBuffer.float32View, particles.length * this._dynamicStride * 4, true);\n\n        if (uploadStatic)\n        {\n            const staticAttributeBuffer = this.staticAttributeBuffer;\n\n            this._staticUpload(particles, staticAttributeBuffer.float32View, staticAttributeBuffer.uint32View);\n\n            this._staticBuffer.setDataWithSize(\n                staticAttributeBuffer.float32View, particles.length * this._staticStride * 4, true);\n        }\n    }\n\n    public destroy()\n    {\n        this._staticBuffer.destroy();\n        this._dynamicBuffer.destroy();\n        this.geometry.destroy();\n    }\n}\n\nfunction getParticleSyncKey(properties: Record<string, ParticleRendererProperty>)\n{\n    const keyGen: string[] = [];\n\n    for (const key in properties)\n    {\n        const property = properties[key];\n\n        keyGen.push(key, property.code, property.dynamic ? 'd' : 's');\n    }\n\n    return keyGen.join('_');\n}\n\n","import type { IParticle } from '../../scene/particle-container/shared/Particle';\n\n/** @internal */\nexport const particleUpdateFunctions = {\n    aVertex: (ps: IParticle[], f32v: Float32Array, _u32v: Uint32Array, offset: number, stride: number) =>\n    {\n        let w0 = 0;\n        let w1 = 0;\n        let h0 = 0;\n        let h1 = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n            const texture = p.texture;\n            const sx = p.scaleX;\n            const sy = p.scaleY;\n            const ax = p.anchorX;\n            const ay = p.anchorY;\n\n            const trim = texture.trim;\n            const orig = texture.orig;\n\n            if (trim)\n            {\n                w1 = trim.x - (ax * orig.width);\n                w0 = w1 + trim.width;\n\n                h1 = trim.y - (ay * orig.height);\n                h0 = h1 + trim.height;\n            }\n            else\n            {\n                w0 = (orig.width) * (1 - ax);\n                w1 = (orig.width) * -ax;\n\n                h0 = orig.height * (1 - ay);\n                h1 = orig.height * -ay;\n            }\n\n            f32v[offset] = w1 * sx;\n            f32v[offset + 1] = h1 * sy;\n\n            f32v[offset + stride] = w0 * sx;\n            f32v[offset + stride + 1] = h1 * sy;\n\n            f32v[offset + (stride * 2)] = w0 * sx;\n            f32v[offset + (stride * 2) + 1] = h0 * sy;\n\n            f32v[offset + (stride * 3)] = w1 * sx;\n            f32v[offset + (stride * 3) + 1] = h0 * sy;\n\n            offset += stride * 4;\n        }\n    },\n    aPosition: (ps: IParticle[], f32v: Float32Array, _u32v: Uint32Array, offset: number, stride: number) =>\n    {\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n            const x = p.x;\n            const y = p.y;\n\n            f32v[offset] = x;\n            f32v[offset + 1] = y;\n\n            f32v[offset + stride] = x;\n            f32v[offset + stride + 1] = y;\n\n            f32v[offset + (stride * 2)] = x;\n            f32v[offset + (stride * 2) + 1] = y;\n\n            f32v[offset + (stride * 3)] = x;\n            f32v[offset + (stride * 3) + 1] = y;\n\n            offset += stride * 4;\n        }\n    },\n    aRotation: (ps: IParticle[], f32v: Float32Array, _u32v: Uint32Array, offset: number, stride: number) =>\n    {\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const rotation = ps[i].rotation;\n\n            f32v[offset] = rotation;\n            f32v[offset + stride] = rotation;\n            f32v[offset + (stride * 2)] = rotation;\n            f32v[offset + (stride * 3)] = rotation;\n\n            offset += stride * 4;\n        }\n    },\n    aUV: (ps: IParticle[], f32v: Float32Array, _u32v: Uint32Array, offset: number, stride: number) =>\n    {\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const uvs = ps[i].texture.uvs;\n\n            f32v[offset] = uvs.x0;\n            f32v[offset + 1] = uvs.y0;\n\n            f32v[offset + stride] = uvs.x1;\n            f32v[offset + stride + 1] = uvs.y1;\n\n            f32v[offset + (stride * 2)] = uvs.x2;\n            f32v[offset + (stride * 2) + 1] = uvs.y2;\n\n            f32v[offset + (stride * 3)] = uvs.x3;\n            f32v[offset + (stride * 3) + 1] = uvs.y3;\n\n            offset += stride * 4;\n        }\n    },\n    aColor: (ps: IParticle[], _f32v: Float32Array, u32v: Uint32Array, offset: number, stride: number) =>\n    {\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const c = ps[i].color;\n\n            u32v[offset] = c;\n            u32v[offset + stride] = c;\n            u32v[offset + (stride * 2)] = c;\n            u32v[offset + (stride * 3)] = c;\n\n            offset += stride * 4;\n        }\n    }\n};\n","import { getAttributeInfoFromFormat } from '../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat';\nimport { particleUpdateFunctions } from './particleUpdateFunctions';\n\nimport type { IParticle } from '../../scene/particle-container/shared/Particle';\nimport type { ParticleRendererProperty } from '../../scene/particle-container/shared/particleData';\n\n// eslint-disable-next-line max-len\ntype ParticleUpdateFunction = (ps: IParticle[], f32v: Float32Array, u32v: Uint32Array, offset: number, stride: number) => void;\n\n/**\n * @param properties\n * @internal\n */\nexport function generateParticleUpdatePolyfill(properties: Record<string, ParticleRendererProperty>)\n{\n    const allProperties = Object.values(properties);\n    const dynamicProperties = allProperties.filter((p) => p.dynamic);\n    const staticProperties = allProperties.filter((p) => !p.dynamic);\n\n    return {\n        dynamicUpdate: generateUpdateFunction(dynamicProperties),\n        staticUpdate: generateUpdateFunction(staticProperties),\n    };\n}\n\nfunction generateUpdateFunction(properties: ParticleRendererProperty[]): ParticleUpdateFunction\n{\n    let stride = 0;\n\n    const updateData: { stride: number; updateFunction: ParticleUpdateFunction }[] = [];\n\n    for (let i = 0; i < properties.length; i++)\n    {\n        const property = properties[i];\n\n        const attributeStride = getAttributeInfoFromFormat(property.format).stride / 4;\n\n        stride += attributeStride;\n\n        updateData.push({\n            stride: attributeStride,\n            updateFunction:\n            property.updateFunction\n            || particleUpdateFunctions[property.attributeName as keyof typeof particleUpdateFunctions]\n        });\n    }\n\n    return (ps: IParticle[], f32v: Float32Array, u32v: Uint32Array) =>\n    {\n        let offset = 0;\n\n        for (let i = 0; i < updateData.length; i++)\n        {\n            const obx = updateData[i];\n\n            obx.updateFunction(ps, f32v, u32v, offset, stride);\n            offset += obx.stride;\n        }\n    };\n}\n","import { BufferResource } from '../../rendering/renderers/shared/buffer/BufferResource';\nimport { UniformGroup } from '../../rendering/renderers/shared/shader/UniformGroup';\nimport { TextureSource } from '../../rendering/renderers/shared/texture/sources/TextureSource';\nimport { TextureStyle } from '../../rendering/renderers/shared/texture/TextureStyle';\n\nimport type { ShaderSyncData, ShaderSyncFunction } from '../../rendering/renderers/gl/shader/GlShaderSystem';\nimport type { WebGLRenderer } from '../../rendering/renderers/gl/WebGLRenderer';\nimport type { Shader } from '../../rendering/renderers/shared/shader/Shader';\n\n/** @internal */\nexport function generateShaderSyncPolyfill(): ShaderSyncFunction\n{\n    return syncShader;\n}\n\nfunction syncShader(renderer: WebGLRenderer, shader: Shader, syncData: ShaderSyncData): void\n{\n    const gl = renderer.gl;\n    const shaderSystem = renderer.shader;\n    const programData = shaderSystem._getProgramData(shader.glProgram);\n\n    // loop through the groups and sync everything...\n    for (const i in shader.groups)\n    {\n        const bindGroup = shader.groups[i];\n\n        for (const j in bindGroup.resources)\n        {\n            const resource = bindGroup.resources[j];\n\n            if (resource instanceof UniformGroup)\n            {\n                if (resource.ubo)\n                {\n                    shaderSystem.bindUniformBlock(\n                        resource,\n                        shader._uniformBindMap[i as unknown as number][j as unknown as number],\n                        syncData.blockIndex++\n                    );\n                }\n                else\n                {\n                    shaderSystem.updateUniformGroup(resource);\n                }\n            }\n            else if (resource instanceof BufferResource)\n            {\n                shaderSystem.bindUniformBlock(\n                    resource,\n                    shader._uniformBindMap[i as unknown as number][j as unknown as number],\n                    syncData.blockIndex++\n                );\n            }\n            else if (resource instanceof TextureSource)\n            {\n                // TODO really we should not be binding the sampler here too\n                renderer.texture.bind(resource, syncData.textureCount);\n\n                const uniformName = shader._uniformBindMap[i as unknown as number][j as unknown as number];\n\n                const uniformData = programData.uniformData[uniformName];\n\n                if (uniformData)\n                {\n                    if (uniformData.value !== syncData.textureCount)\n                    {\n                        gl.uniform1i(uniformData.location, syncData.textureCount);\n                    }\n\n                    syncData.textureCount++;\n                }\n            }\n            else if (resource instanceof TextureStyle)\n            {\n                // TODO not doing anything here works is assuming that textures are bound with the style they own.\n                // this.renderer.texture.bindSampler(resource, syncData.textureCount);\n            }\n        }\n    }\n}\n","/**\n * This file is auto generated by scripts/utils/autoGenerateUnsafeEvalFunctions.ts\n * Do not edit manually - or you will be sad.\n */\n\nimport type { UNIFORM_TYPES } from '../../rendering/renderers/shared/shader/types';\n\n/** @internal */\nexport type UboUploadFunction = (name: string, data: Float32Array, offset: number, uv: any, v: any) => void;\n\n// eslint-disable-next-line jsdoc/require-param\n/** @internal */\nexport const uboParserFunctions: UboUploadFunction[] = [\n    (name: string, data: Float32Array, offset: number, uv: any, _v: any): void =>\n    {\n        const matrix = uv[name].toArray(true);\n\n        data[offset] = matrix[0];\n        data[offset + 1] = matrix[1];\n        data[offset + 2] = matrix[2];\n        data[offset + 4] = matrix[3];\n        data[offset + 5] = matrix[4];\n        data[offset + 6] = matrix[5];\n        data[offset + 8] = matrix[6];\n        data[offset + 9] = matrix[7];\n        data[offset + 10] = matrix[8];\n    },\n    (name: string, data: Float32Array, offset: number, uv: any, v: any): void =>\n    {\n        v = uv[name];\n        data[offset] = v.x;\n        data[offset + 1] = v.y;\n        data[offset + 2] = v.width;\n        data[offset + 3] = v.height;\n    },\n    (name: string, data: Float32Array, offset: number, uv: any, v: any): void =>\n    {\n        v = uv[name];\n        data[offset] = v.x;\n        data[offset + 1] = v.y;\n    },\n    (name: string, data: Float32Array, offset: number, uv: any, v: any): void =>\n    {\n        v = uv[name];\n        data[offset] = v.red;\n        data[offset + 1] = v.green;\n        data[offset + 2] = v.blue;\n        data[offset + 3] = v.alpha;\n    },\n    (name: string, data: Float32Array, offset: number, uv: any, v: any): void =>\n    {\n        v = uv[name];\n        data[offset] = v.red;\n        data[offset + 1] = v.green;\n        data[offset + 2] = v.blue;\n    },\n];\n\n/** @internal */\nexport const uboSingleFunctionsWGSL: Record<UNIFORM_TYPES | string, UboUploadFunction> = {\n    f32: (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v;\n    },\n    i32: (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v;\n    },\n    'vec2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n    },\n    'vec3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n    },\n    'vec4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    },\n    'mat2x2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    },\n    'mat3x3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    },\n    'mat4x4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    },\n    'mat3x2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 6; i++)\n        {\n            data[offset + (((i / 3) | 0) * 4) + (i % 3)] = v[i];\n        }\n    },\n    'mat4x2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 8; i++)\n        {\n            data[offset + (((i / 4) | 0) * 4) + (i % 4)] = v[i];\n        }\n    },\n    'mat2x3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 6; i++)\n        {\n            data[offset + (((i / 2) | 0) * 4) + (i % 2)] = v[i];\n        }\n    },\n    'mat4x3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 12; i++)\n        {\n            data[offset + (((i / 4) | 0) * 4) + (i % 4)] = v[i];\n        }\n    },\n    'mat2x4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 8; i++)\n        {\n            data[offset + (((i / 2) | 0) * 4) + (i % 2)] = v[i];\n        }\n    },\n    'mat3x4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 12; i++)\n        {\n            data[offset + (((i / 3) | 0) * 4) + (i % 3)] = v[i];\n        }\n    },\n};\n\n/** @internal */\nexport const uboSingleFunctionsSTD40: Record<UNIFORM_TYPES | string, UboUploadFunction> = {\n    f32: (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v;\n    },\n    i32: (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v;\n    },\n    'vec2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n    },\n    'vec3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n    },\n    'vec4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    },\n    'mat2x2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];\n    },\n    'mat3x3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    },\n    'mat4x4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    },\n    'mat3x2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 6; i++)\n        {\n            data[offset + (((i / 3) | 0) * 4) + (i % 3)] = v[i];\n        }\n    },\n    'mat4x2<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 8; i++)\n        {\n            data[offset + (((i / 4) | 0) * 4) + (i % 4)] = v[i];\n        }\n    },\n    'mat2x3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 6; i++)\n        {\n            data[offset + (((i / 2) | 0) * 4) + (i % 2)] = v[i];\n        }\n    },\n    'mat4x3<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 12; i++)\n        {\n            data[offset + (((i / 4) | 0) * 4) + (i % 4)] = v[i];\n        }\n    },\n    'mat2x4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 8; i++)\n        {\n            data[offset + (((i / 2) | 0) * 4) + (i % 2)] = v[i];\n        }\n    },\n    'mat3x4<f32>': (_name: string, data: Float32Array, offset: number, _uv: any, v: any): void =>\n    {\n        for (let i = 0; i < 12; i++)\n        {\n            data[offset + (((i / 3) | 0) * 4) + (i % 3)] = v[i];\n        }\n    },\n};\n","import { WGSL_TO_STD40_SIZE } from '../../rendering/renderers/gl/shader/utils/createUboElementsSTD40';\nimport { WGSL_ALIGN_SIZE_DATA } from '../../rendering/renderers/gpu/shader/utils/createUboElementsWGSL';\nimport { uniformParsers } from '../../rendering/renderers/shared/shader/utils/uniformParsers';\nimport { uboParserFunctions, uboSingleFunctionsSTD40, uboSingleFunctionsWGSL } from './uboSyncFunctions';\n\nimport type { UboElement, UniformsSyncCallback } from '../../rendering/renderers/shared/shader/types';\nimport type { UniformGroup } from '../../rendering/renderers/shared/shader/UniformGroup';\nimport type { UboUploadFunction } from './uboSyncFunctions';\n\n/**\n * @param uboElements\n * @internal\n */\nexport function generateUboSyncPolyfillSTD40(uboElements: UboElement[]): UniformsSyncCallback\n{\n    return generateUboSyncPolyfill(\n        uboElements,\n        uboSingleFunctionsSTD40,\n        (uboElement: UboElement) =>\n        {\n            const rowSize = Math.max(WGSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);\n            const elementSize = (uboElement.data.value as Array<number>).length / uboElement.data.size;// size / rowSize;\n            const remainder = (4 - (elementSize % 4)) % 4;\n\n            return (_name: string, data: Float32Array, offset: number, _uv: any, v: any) =>\n            {\n                let t = 0;\n\n                for (let i = 0; i < (uboElement.data.size * rowSize); i++)\n                {\n                    for (let j = 0; j < elementSize; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n\n                    offset += remainder;\n                }\n            };\n        }\n\n    );\n}\n\n/**\n * @param uboElements\n * @internal\n */\nexport function generateUboSyncPolyfillWGSL(uboElements: UboElement[]): UniformsSyncCallback\n{\n    return generateUboSyncPolyfill(\n        uboElements,\n        uboSingleFunctionsWGSL,\n        (uboElement: UboElement) =>\n        {\n            const { size, align } = WGSL_ALIGN_SIZE_DATA[uboElement.data.type];\n\n            const remainder = (size - align) / 4;\n\n            return (_name: string, data: Float32Array, offset: number, _uv: any, v: any) =>\n            {\n                let t = 0;\n\n                for (let i = 0; i < uboElement.data.size * (size / 4); i++)\n                {\n                    for (let j = 0; j < (size / 4); j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += remainder;\n                }\n            };\n        }\n    );\n}\n\nfunction generateUboSyncPolyfill(\n    uboElements: UboElement[],\n    uboFunctions: Record<string, UboUploadFunction>,\n    arrayUploadFunction: (uboElement: UboElement) => UboUploadFunction\n): UniformsSyncCallback\n{\n    // loop through all the uniforms..\n    const functionMap: Record<string, {offset: number, func: UboUploadFunction}> = {};\n\n    for (const i in uboElements)\n    {\n        const uboElement = uboElements[i];\n        const uniform = uboElement.data;\n\n        let parsed = false;\n\n        functionMap[uniform.name] = {\n            offset: uboElement.offset / 4,\n            func: null\n        };\n\n        for (let j = 0; j < uniformParsers.length; j++)\n        {\n            const parser = uniformParsers[j];\n\n            if (uniform.type === parser.type && parser.test(uniform))\n            {\n                functionMap[uniform.name].func = uboParserFunctions[j];\n\n                parsed = true;\n\n                break;\n            }\n        }\n\n        // if not parsed...\n\n        if (!parsed)\n        {\n            if (uniform.size === 1)\n            {\n                functionMap[uniform.name].func = uboFunctions[uniform.type];\n            }\n            else\n            {\n                functionMap[uniform.name].func = arrayUploadFunction(uboElement);\n            }\n        }\n    }\n\n    return (\n        uniforms: UniformGroup,\n        data: Float32Array,\n        offset: number\n    ) =>\n    {\n        for (const i in functionMap)\n        {\n            functionMap[i].func(i, data, offset + functionMap[i].offset, uniforms, uniforms[i as keyof typeof uniforms]);\n        }\n    };\n}\n","/**\n * This file is auto generated by scripts/utils/autoGenerateUnsafeEvalFunctions.ts\n * Do not edit manually - or you will be sad.\n */\n\nimport type { UNIFORM_TYPES } from '../../rendering/renderers/shared/shader/types';\n\n/** @internal */\nexport type UniformUploadFunction = (name: string, cu: any, cv: any, v: any, ud: any, uv: any, gl: any) => void;\n\n/** @internal */\nexport const uniformSingleParserFunctions: Record<UNIFORM_TYPES | string, UniformUploadFunction> = {\n    f32(name: string, cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv !== v)\n        {\n            cu.value = v;\n            gl.uniform1f(ud[name].location, v);\n        }\n    },\n    'vec2<f32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2f(ud[name].location, v[0], v[1]);\n        }\n    },\n    'vec3<f32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3f(ud[name].location, v[0], v[1], v[2]);\n        }\n    },\n    'vec4<f32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4f(ud[name].location, v[0], v[1], v[2], v[3]);\n        }\n    },\n    i32(name: string, cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv !== v)\n        {\n            cu.value = v;\n            gl.uniform1i(ud[name].location, v);\n        }\n    },\n    'vec2<i32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(ud[name].location, v[0], v[1]);\n        }\n    },\n    'vec3<i32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(ud[name].location, v[0], v[1], v[2]);\n        }\n    },\n    'vec4<i32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(ud[name].location, v[0], v[1], v[2], v[3]);\n        }\n    },\n    u32(name: string, cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv !== v)\n        {\n            cu.value = v;\n            gl.uniform1ui(ud[name].location, v);\n        }\n    },\n    'vec2<u32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2ui(ud[name].location, v[0], v[1]);\n        }\n    },\n    'vec3<u32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3ui(ud[name].location, v[0], v[1], v[2]);\n        }\n    },\n    'vec4<u32>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4ui(ud[name].location, v[0], v[1], v[2], v[3]);\n        }\n    },\n    bool(name: string, cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv !== v)\n        {\n            cu.value = v;\n            gl.uniform1i(ud[name].location, v);\n        }\n    },\n    'vec2<bool>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(ud[name].location, v[0], v[1]);\n        }\n    },\n    'vec3<bool>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(ud[name].location, v[0], v[1], v[2]);\n        }\n    },\n    'vec4<bool>'(name: string, _cu: any, cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n        {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(ud[name].location, v[0], v[1], v[2], v[3]);\n        }\n    },\n    'mat2x2<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniformMatrix2fv(ud[name].location, false, v);\n    },\n    'mat3x3<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniformMatrix3fv(ud[name].location, false, v);\n    },\n    'mat4x4<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniformMatrix4fv(ud[name].location, false, v);\n    },\n};\n\n/** @internal */\nexport const uniformArrayParserFunctions: Record<UNIFORM_TYPES | string, UniformUploadFunction> = {\n    f32(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform1fv(ud[name].location, v);\n    },\n    'vec2<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform2fv(ud[name].location, v);\n    },\n    'vec3<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform3fv(ud[name].location, v);\n    },\n    'vec4<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform4fv(ud[name].location, v);\n    },\n    'mat2x2<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniformMatrix2fv(ud[name].location, false, v);\n    },\n    'mat3x3<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniformMatrix3fv(ud[name].location, false, v);\n    },\n    'mat4x4<f32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniformMatrix4fv(ud[name].location, false, v);\n    },\n    i32(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform1iv(ud[name].location, v);\n    },\n    'vec2<i32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform2iv(ud[name].location, v);\n    },\n    'vec3<i32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform3iv(ud[name].location, v);\n    },\n    'vec4<i32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform4iv(ud[name].location, v);\n    },\n    u32(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform1iv(ud[name].location, v);\n    },\n    'vec2<u32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform2iv(ud[name].location, v);\n    },\n    'vec3<u32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform3iv(ud[name].location, v);\n    },\n    'vec4<u32>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform4iv(ud[name].location, v);\n    },\n    bool(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform1iv(ud[name].location, v);\n    },\n    'vec2<bool>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform2iv(ud[name].location, v);\n    },\n    'vec3<bool>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform3iv(ud[name].location, v);\n    },\n    'vec4<bool>'(name: string, _cu: any, _cv: any, v: any, ud: any, _uv: any, gl: any): void\n    {\n        gl.uniform4iv(ud[name].location, v);\n    },\n};\n\n// eslint-disable-next-line jsdoc/require-param\n/** @internal */\nexport const uniformParserFunctions: UniformUploadFunction[] = [\n    (name: string, _cu: any, _cv: any, _v: any, ud: any, uv: any, gl: any): void =>\n    {\n        gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n    },\n    (name: string, _cu: any, cv: any, v: any, ud: any, uv: any, gl: any): void =>\n    {\n        cv = ud[name].value;\n        v = uv[name];\n        if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n        {\n            cv[0] = v.x;\n            cv[1] = v.y;\n            cv[2] = v.width;\n            cv[3] = v.height;\n            gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n        }\n    },\n    (name: string, _cu: any, cv: any, v: any, ud: any, uv: any, gl: any): void =>\n    {\n        cv = ud[name].value;\n        v = uv[name];\n        if (cv[0] !== v.x || cv[1] !== v.y)\n        {\n            cv[0] = v.x;\n            cv[1] = v.y;\n            gl.uniform2f(ud[name].location, v.x, v.y);\n        }\n    },\n    (name: string, _cu: any, cv: any, v: any, ud: any, uv: any, gl: any): void =>\n    {\n        cv = ud[name].value;\n        v = uv[name];\n        if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n        {\n            cv[0] = v.red;\n            cv[1] = v.green;\n            cv[2] = v.blue;\n            cv[3] = v.alpha;\n            gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n        }\n    },\n    (name: string, _cu: any, cv: any, v: any, ud: any, uv: any, gl: any): void =>\n    {\n        cv = ud[name].value;\n        v = uv[name];\n        if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue)\n        {\n            cv[0] = v.red;\n            cv[1] = v.green;\n            cv[2] = v.blue;\n            gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n        }\n    },\n];\n","import { uniformParsers } from '../../rendering/renderers/shared/shader/utils/uniformParsers';\nimport { uniformArrayParserFunctions, uniformParserFunctions, uniformSingleParserFunctions } from './uniformSyncFunctions';\n\nimport type { GlUniformData } from '../../rendering/renderers/gl/shader/GlProgram';\nimport type { WebGLRenderer } from '../../rendering/renderers/gl/WebGLRenderer';\nimport type { UniformsSyncCallback } from '../../rendering/renderers/shared/shader/types';\nimport type { UniformGroup } from '../../rendering/renderers/shared/shader/UniformGroup';\nimport type { UniformUploadFunction } from './uniformSyncFunctions';\n\n/**\n * @param group\n * @param uniformData\n * @internal\n */\nexport function generateUniformsSyncPolyfill(\n    group: UniformGroup,\n    uniformData: Record<string, GlUniformData>\n): UniformsSyncCallback\n{\n    // loop through all the uniforms..\n    const functionMap: Record<string, UniformUploadFunction> = {};\n\n    for (const i in group.uniformStructures)\n    {\n        if (!uniformData[i]) continue;\n\n        const uniform = group.uniformStructures[i];\n\n        let parsed = false;\n\n        for (let j = 0; j < uniformParsers.length; j++)\n        {\n            const parser = uniformParsers[j];\n\n            if (uniform.type === parser.type && parser.test(uniform))\n            {\n                functionMap[i] = uniformParserFunctions[j];\n\n                parsed = true;\n\n                break;\n            }\n        }\n\n        // if not parsed...\n\n        if (!parsed)\n        {\n            const templateType = uniform.size === 1 ? uniformSingleParserFunctions : uniformArrayParserFunctions;\n\n            functionMap[i] = templateType[uniform.type];\n        }\n    }\n\n    return (\n        ud: Record<string, any>,\n        uv: Record<string, any>,\n        renderer: WebGLRenderer) =>\n    {\n        const gl = renderer.gl;\n\n        for (const i in functionMap)\n        {\n            const v = uv[i];\n            const cu = ud[i];\n            const cv = ud[i].value;\n\n            functionMap[i](i, cu, cv, v, ud, uv, gl);\n        }\n    };\n}\n","import { GlUboSystem } from '../rendering/renderers/gl/GlUboSystem';\nimport { GlShaderSystem } from '../rendering/renderers/gl/shader/GlShaderSystem';\nimport { GlUniformGroupSystem } from '../rendering/renderers/gl/shader/GlUniformGroupSystem';\nimport { GpuUboSystem } from '../rendering/renderers/gpu/GpuUboSystem';\nimport { UboSystem } from '../rendering/renderers/shared/shader/UboSystem';\nimport { AbstractRenderer } from '../rendering/renderers/shared/system/AbstractRenderer';\nimport { ParticleBuffer } from '../scene/particle-container/shared/ParticleBuffer';\nimport { generateParticleUpdatePolyfill } from './particle/generateParticleUpdatePolyfill';\nimport { generateShaderSyncPolyfill } from './shader/generateShaderSyncPolyfill';\nimport {\n    generateUboSyncPolyfillSTD40,\n    generateUboSyncPolyfillWGSL\n} from './ubo/generateUboSyncPolyfill';\nimport { generateUniformsSyncPolyfill } from './uniforms/generateUniformsSyncPolyfill';\n\nfunction selfInstall()\n{\n    Object.assign(AbstractRenderer.prototype, {\n        // override unsafeEval check, as we don't need to use it\n        _unsafeEvalCheck()\n        {\n            // Do nothing, don't throw error\n        },\n    });\n\n    Object.assign(UboSystem.prototype, {\n        // override unsafeEval check, as we don't need to use it\n        _systemCheck()\n        {\n            // Do nothing, don't throw error\n        },\n    });\n\n    Object.assign(GlUniformGroupSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUniformsSync: generateUniformsSyncPolyfill,\n    });\n\n    Object.assign(GlUboSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUboSync: generateUboSyncPolyfillSTD40,\n    });\n\n    Object.assign(GpuUboSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateUboSync: generateUboSyncPolyfillWGSL,\n    });\n\n    Object.assign(GlShaderSystem.prototype, {\n        // use polyfill which avoids eval method\n        _generateShaderSync: generateShaderSyncPolyfill,\n    });\n\n    Object.assign(ParticleBuffer.prototype, {\n\n        // use polyfill which avoids eval method\n        generateParticleUpdate: generateParticleUpdatePolyfill,\n    });\n}\n\nselfInstall();\n"],"names":["generateUpdateFunction"],"mappings":"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"}